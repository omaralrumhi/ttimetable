@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800;900&display=swap');

:root {
    --bg-core: #050a14;
    --bg-glass: rgba(10, 18, 35, 0.9);
    --neon-cyan: #00f7ff;
    --neon-pink: #ff0099;
    --neon-gold: #ffcc00;
    --text-primary: #ffffff;
    --border-glow: rgba(0, 247, 255, 0.2);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    background-image: url('msbg3.jpg'); 
    
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    background-repeat: no-repeat;

    /* طبقة تعتيم غامقة لضمان وضوح نصوص الكروت المضيئة */
    background-color: rgba(0, 0, 0, 0.75); 
    background-blend-mode: multiply;

    color: var(--text-primary);
    font-family: 'Cairo', sans-serif;
    height: 100vh;
    width: 100vw;
    overflow: hidden;
    direction: rtl;
    margin: 0;
}

.container { display: flex; height: 100vh; width: 100vw; }

/* --- القائمة الجانبية (Sidebar) --- */
.sidebar {
    flex: 22;
    margin: 15px; 
    border-radius: 20px;
    
    /* جعل الصورة شفافة من خلال دمجها مع لون خلفية شفاف */
    /* الرقم 0.4 هنا يتحكم في شفافية الصورة، كلما قل زادت الشفافية */
    background: linear-gradient(rgba(10, 18, 35, 0.2), rgba(10, 18, 35, 0.2)), 
                url('bg6.jpg');
    
    background-size: cover;
    background-position: center;
    
    /* تأثير الضبابية خلف الشفافية */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    
    border: 1px solid rgba(0, 247, 255, 0.2); 
    padding: 1.5vh 0.8vw;
    display: flex;
    flex-direction: column;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    z-index: 10;
}

.sidebar-header {
    font-size: clamp(1.2rem, 1.8vw, 2.2rem);
    font-weight: 900;
    text-align: center;
    color: var(--neon-cyan);
    margin-bottom: 1vh;
    text-shadow: 0 0 10px rgba(0, 247, 255, 0.5);
}

/* --- رؤوس الأعمدة (التحكم في الموقع والحجم) --- */
.sidebar-top-headers {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 0.5vw 8px 0.5vw;
    margin-bottom: 5px;
    border-bottom: 1px solid var(--border-glow);
}

.header-label-main {
    font-size: 1.1rem;
    font-weight: 800;
    color: var(--text-primary);
    flex: 1;
}

.header-label-times {
    display: flex;
    flex: 1;
    justify-content: space-around;
    align-items: center;
}

/* يمكنك التحكم في حجم وموقع "من" هنا */
.label-from {
    font-size: 2.1rem;
    font-weight: 900;
    color: #4d159c; /* أخضر فيروزي مضيء */
    text-shadow: 0 0 10px rgba(77, 39, 180, 0.5);
    transform: translateX(250px);
}

/* يمكنك التحكم في حجم وموقع "إلى" هنا */
.label-to {
    font-size: 2.1rem; /* الحجم */
    font-weight: 900;
    color: #ff5e00;
    text-shadow: 0 0 8px var(--neon-pink);
    transform: translateX(80px); /* تحريك أفقي */
}

#full-schedule-list {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-around; 
    gap: 4px;
}

.sidebar-item {
    background: rgba(255,255,255,0.02);
    padding: 0.8vh 1vw;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.05);
    border-right: 5px solid #444;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: 0; 
}

.sidebar-item div:first-child {
    font-weight: 800;
    font-size: clamp(1rem, 1.3vw, 1.6rem);
    color: var(--text-primary);
    white-space: nowrap;
}

.active-session {
    flex: 1.5 !important;
    background: linear-gradient(90deg, rgba(0, 247, 255, 0.2), rgba(255, 0, 153, 0.15)) !important;
    border-right: 8px solid var(--neon-pink) !important;
    transform: scale(1.03);
    box-shadow: 0 0 25px rgba(255, 0, 153, 0.3), inset 0 0 10px rgba(0, 247, 255, 0.2);
}

.active-session div:first-child {
    color: var(--neon-cyan);
    font-size: clamp(1.2rem, 1.6vw, 2rem);
    text-shadow: 0 0 15px var(--neon-cyan);
}

.sidebar-time-container { 
    display: flex; 
    gap: 8px; 
    margin-top: 4px; 
}

.time-box {
    background: rgba(0, 0, 0, 0.5);
    padding: 2px 10px;
    border-radius: 8px;
    font-size: clamp(1rem, 1.3vw, 1.6rem);
    color: var(--neon-cyan);
    flex: 1;
    text-align: center;
    font-family: 'monospace';
    border: 1px solid rgba(0, 255, 21, 0.2);
}

.active-session .time-box {
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
    border-color: var(--neon-pink);
    font-weight: 900;
}

/* --- العرض الرئيسي --- */
.main-display {
    flex: 78;
    padding: 1.5vh 2.5vw;
    display: flex;
    flex-direction: column;
    height: 100vh;
}

.header-info {
    display: flex;
    justify-content: space-between; 
    align-items: center;
    padding: 0 1.5vw;
    height: 18vh;
    border-bottom: 2px solid var(--border-glow);
    position: relative;
}

.date-badge-right {
    background: rgba(255, 255, 255, 0.05);
    color: var(--neon-cyan);
    padding: 15px 30px;
    border-radius: 12px;
    border-right: 4px solid var(--neon-cyan);
    font-weight: 800;
    font-size: clamp(1rem, 1.2vw, 4.6rem);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    z-index: 10;
}

.time-center-wrapper {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 5;
}

#digital-clock {
    font-size: clamp(4rem, 6.5vw, 8.5rem); 
    font-weight: 900;
    color: var(--neon-cyan);
    text-shadow: 0 0 30px rgba(0, 247, 255, 0.5);
    line-height: 1;
    font-family: 'monospace';
}

#countdown-container {
    margin-right: auto;
    text-align: center;
    background: rgba(255, 204, 0, 0.05);
    padding: 1vh 2vw;
    border-radius: 20px;
    border: 3px solid var(--neon-gold);
    box-shadow: 0 0 30px rgba(255, 204, 0, 0.2);
    z-index: 10;
}

.countdown-label {
    color: var(--neon-gold);
    font-size: clamp(0.8rem, 1.1vw, 1.3rem);
    font-weight: 800;
    margin-bottom: 2px;
}

#countdown-timer {
    font-size: clamp(3.5rem, 6vw, 7.5rem);
    font-weight: 900;
    color: var(--neon-gold);
    line-height: 1;
}

/* --- الكروت --- */
.session-area { 
    flex: 1; 
    display: flex; 
    flex-direction: column; 
    padding: 1vh 0; 
    overflow: hidden; 
}

#session-title { 
    font-size: clamp(2rem, 3.5vw, 4rem); 
    text-align: center; 
    margin-bottom: 1vh;
    font-weight: 900;
    color: #fff;
}

/* 1. تحديث حاوية الكروت لتكون أكثر مرونة */
/* 1. الحاوية الكبرى للكروت */
/* 1. الحاوية الكبرى للكروت */
/* 1. الحاوية: تقليل الفراغات الجانبية لزيادة مساحة الكروت */
#teachers-list {
    flex: 1;
    display: grid;
    /* جعل الكروت مرنة جداً (تضيق لتسمح بظهور الجميع وتتسع لتظهر الاسم) */
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); 
    grid-auto-rows: 1fr; 
    gap: 8px; /* تقليل الفجوات بين الكروت */
    padding: 5px 10px;
    overflow-y: auto;
    align-content: center; /* توزيع الكروت في منتصف المساحة المتاحة */
}

/* 2. الكرت: تقليل الحواف الداخلية لترك مساحة للنص */
.class-card {
    background: rgba(255,255,255,0.05);
    padding: 0.5vh 0.4vw; /* تقليل الحشو جداً */
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.1);
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 9vh; /* تقليل الارتفاع الأدنى ليتناسب مع الشاشات المزدحمة */
}

/* 3. اسم الفصل: صغرناه قليلاً ليعطي مساحة لاسم المعلم */
/* الحل النهائي لمنع قص الكلمات وظهور الاسم كاملاً */
/* الحل النهائي والقطعي لمشكلة قص الكلمات */
.teacher-name { 
    /* جعلنا الحد الأدنى للخط أصغر قليلاً (0.8rem) لضمان عدم قص الكلمة في الكروت الضيقة */
    font-size: clamp(0.8rem, 1.6vw, 2.2rem); 
    font-weight: 900; 
    color: #fff; 
    line-height: 1.2; 
    width: 100%;
    
    /* منع كسر الكلمات نهائياً */
    white-space: normal;       /* يسمح بالنزول لسطر جديد عند المسافات فقط */
    word-break: normal;        /* يمنع كسر الكلمة الواحدة */
    overflow-wrap: anywhere;   /* يمنع قص الحروف إلا في الضرورة القصوى جداً */
    
    /* لضمان التنسيق */
    display: block;
    text-align: center;
    direction: rtl;
}

/* تعديل حاوية الكروت لتكون أكثر اتساعاً للأسماء */
/* 1. الحاوية: تقليل عدد الأعمدة قليلاً لإعطاء مساحة عرضية للكلمات الطويلة */
/* 1. الحاوية: تقليل عدد الأعمدة لزيادة عرض الكرت الواحد */
/* 1. حاوية الكروت: جعلها مرنة وتوزع الكروت بالتساوي */
/* 1. الحاوية: منع التمرير وإجبارها على استيعاب المحتوى في شاشة واحدة */
/* 1. الحاوية: إجبار الكروت على البقاء داخل الشاشة وتوزيع المساحة بينها */
#teachers-list {
    flex: 1;
    display: grid;
    /* السحر هنا: نستخدم auto-fill مع سطر واحد أو أكثر ليتم توزيع الارتفاع بالتساوي */
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    grid-auto-rows: 1fr; /* يجعل جميع الكروت بنفس الارتفاع وتملأ الطول المتاح */
    gap: 10px;
    padding: 10px;
    height: 100%;
    overflow: hidden; /* يمنع السكرول نهائياً */
}

/* 2. الكرت: جعله مرناً جداً ليصغر حسب الحاجة */
.class-card {
    background: rgba(255,255,255,0.05);
    padding: 5px; /* تقليل الحشو لأقصى درجة */
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.1);
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 0; /* مهم جداً: يسمح للكرت بالانكماش ليظهر الجميع */
    height: 100%;
}

/* 3. اسم المعلم: خط يتكيف مع ضيق المساحة عمودياً */
.teacher-name { 
    /* استخدمنا vh هنا ليرتبط حجم الخط بارتفاع الشاشة */
    font-size: clamp(1rem, 2.5vh, 2rem); 
    font-weight: 900; 
    color: #fff; 
    line-height: 1.1; 
    width: 100%;
    word-break: keep-all;     
    white-space: normal;      
    display: block;
    text-align: center;
}

/* 4. اسم الفصل */
.class-name { 
    color: var(--neon-cyan); 
    font-weight: 800; 
    font-size: clamp(1.7rem, 2.5vh, 2.1rem);
    margin-bottom: 2px;
}

/* 4. اسم المعلم: الحل النهائي لمنع كسر الكلمة ولإظهار النص كاملاً */
.teacher-name { 
    /* حجم خط كبير وواضح */
    font-size: clamp(1.2rem, 1.8vw, 2.2rem); 
    font-weight: 900; 
    color: #fff; 
    line-height: 1.2; 
    width: 100%;
    
    /* منع كسر الكلمة الواحدة في المنتصف */
    word-break: keep-all;     /* يمنع كسر "المستجاب" لسطرين */
    overflow-wrap: break-word; /* يسمح بنزول الكلمة التالية لسطر جديد */
    white-space: normal;      /* يسمح بالنزول لسطر جديد عند المسافات فقط */
    
    display: block;
    text-align: center;
}

/* تحسين شكل الكرت عند النشاط */
.class-card:hover {
    border-color: var(--neon-cyan);
    background: rgba(0, 247, 255, 0.1);
    transform: translateY(-3px);
    transition: 0.3s;
}
/* 4. اسم الفصل */
.class-name { 
    color: var(--neon-cyan); 
    font-weight: 800; 
    font-size: clamp(0.9rem, 1.2vw, 1.4rem);
    margin-bottom: 5px;
    white-space: nowrap; /* بقاء اسم الفصل في سطر واحد */
}

/* --- شريط الأخبار المطور --- */
.news-ticker {
    display: flex;
    background: rgba(0, 0, 0, 0.9); /* خلفية سوداء أعمق لبروز النص */
    height: 60px;
    border-radius: 30px;
    border: 2px solid var(--neon-gold); /* إطار ذهبي بدلاً من الوردي */
    overflow: hidden;
    margin-top: 1vh;
    flex-shrink: 0; 
}

.ticker-title { 
   background: var(--neon-gold); /* خلفية العنوان ذهبية */
    color: #050a14; /* نص أسود ليكون واضحاً جداً فوق الذهبي */
    padding: 0 25px; 
    display: flex; 
    align-items: center; 
    font-weight: 900; 
    font-size: 1.3rem; 
    z-index: 2;
}

.ticker-content { 
    flex: 1; 
    position: relative; 
    overflow: hidden; 
}

#ticker-text { 
    position: absolute; 
    white-space: nowrap; 
    line-height: 56px; 
    font-size: 2rem; 
    color: #ffffff; /* نص أبيض نقي */
    text-shadow: 0 0 8px var(--neon-cyan); /* توهج فيروزي خفيف */
    display: inline-block;
    padding-right: 20px;
    animation: scroll-news 85s linear infinite;
}

@keyframes scroll-news { 
    0% { transform: translateX(-100%); } 
    100% { transform: translateX(110%); } /* يضمن خروج النص الطويل تماماً */
}